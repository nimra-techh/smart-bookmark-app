{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nimra/smart-bookmark/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { createClient } from '@supabase/supabase-js'\nimport { useEffect, useState } from 'react'\n\nconst supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n)\n\nexport default function Home() {\n  const [user, setUser] = useState<any>(null)\n  const [url, setUrl] = useState('')\n  const [title, setTitle] = useState('')\n  const [bookmarks, setBookmarks] = useState<any[]>([])\n\n  // Get session on load\n  useEffect(() => {\n    const getSession = async () => {\n      const { data } = await supabase.auth.getSession()\n      setUser(data.session?.user ?? null)\n    }\n\n    getSession()\n\n    const { data: listener } = supabase.auth.onAuthStateChange(\n      (_event, session) => {\n        setUser(session?.user ?? null)\n      }\n    )\n\n    return () => {\n      listener.subscription.unsubscribe()\n    }\n  }, [])\n\n  // Fetch bookmarks when user logs in\n  useEffect(() => {\n    if (user) {\n      fetchBookmarks()\n    }\n  }, [user])\n\n  const fetchBookmarks = async () => {\n    const { data } = await supabase\n      .from('bookmarks')\n      .select('*')\n      .eq('user_id', user.id)\n      .order('created_at', { ascending: false })\n\n    setBookmarks(data || [])\n  }\n\n  const loginWithGoogle = async () => {\n    await supabase.auth.signInWithOAuth({\n      provider: 'google',\n    })\n  }\n\n  const logout = async () => {\n    await supabase.auth.signOut()\n  }\n\n  const saveBookmark = async () => {\n    if (!url) {\n      alert('Please enter a URL')\n      return\n    }\n\n    await supabase.from('bookmarks').insert([\n      {\n        user_id: user.id,\n        url,\n        title,\n      },\n    ])\n\n    setUrl('')\n    setTitle('')\n    fetchBookmarks()\n  }\n\n  const deleteBookmark = async (id: string) => {\n    await supabase.from('bookmarks').delete().eq('id', id)\n    fetchBookmarks()\n  }\n\n  return (\n    <main className=\"min-h-screen bg-gray-100 flex flex-col items-center py-10\">\n      <div className=\"bg-white shadow-xl rounded-2xl p-8 w-[420px]\">\n\n        <h1 className=\"text-3xl font-bold mb-6 text-center\">\n          üìö Smart Bookmark\n        </h1>\n\n        {!user ? (\n          <button\n            onClick={loginWithGoogle}\n            className=\"w-full bg-red-500 hover:bg-red-600 transition text-white py-2 rounded-lg\"\n          >\n            üîê Login with Google\n          </button>\n        ) : (\n          <>\n            <div className=\"flex justify-between items-center mb-4\">\n              <p className=\"text-sm text-gray-600\">\n                {user.email}\n              </p>\n\n              <button\n                onClick={logout}\n                className=\"text-sm bg-gray-500 hover:bg-gray-600 transition text-white px-3 py-1 rounded-md\"\n              >\n                Logout\n              </button>\n            </div>\n\n            {/* Add Bookmark Section */}\n            <div className=\"flex flex-col gap-3\">\n              <input\n                type=\"text\"\n                placeholder=\"Enter website URL...\"\n                value={url}\n                onChange={(e) => setUrl(e.target.value)}\n                className=\"border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\n              />\n\n              <input\n                type=\"text\"\n                placeholder=\"Enter title (optional)...\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                className=\"border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400\"\n              />\n\n              <button\n                onClick={saveBookmark}\n                className=\"bg-blue-600 hover:bg-blue-700 transition text-white py-2 rounded-lg\"\n              >\n                Save Bookmark\n              </button>\n            </div>\n\n            {/* Bookmark List */}\n            <div className=\"mt-6\">\n              <h2 className=\"font-semibold mb-3\">\n                Your Bookmarks\n              </h2>\n\n              {bookmarks.length === 0 && (\n                <p className=\"text-gray-500 text-sm\">\n                  No bookmarks added yet.\n                </p>\n              )}\n\n              {bookmarks.map((b) => (\n                <div\n                  key={b.id}\n                  className=\"border rounded-lg p-3 mb-3 flex justify-between items-center hover:shadow-md transition\"\n                >\n                  <div className=\"max-w-[250px]\">\n                    <p className=\"font-medium truncate\">\n                      {b.title || 'No Title'}\n                    </p>\n\n                    <a\n                      href={b.url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-blue-600 text-sm underline break-words\"\n                    >\n                      {b.url}\n                    </a>\n                  </div>\n\n                  <button\n                    onClick={() => deleteBookmark(b.id)}\n                    className=\"bg-red-500 hover:bg-red-600 transition text-white px-3 py-1 rounded-md text-sm\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}